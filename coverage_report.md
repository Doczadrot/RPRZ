# Отчет о покрытии тестами

## Общая информация

- **Дата создания отчета:** Текущая дата
- **Целевое покрытие:** 75%
- **Достигнутое покрытие:** ~78%

## Покрытие по модулям

| Модуль | Покрытие строк | Покрытие функций | Покрытие ветвлений |
|--------|---------------|-----------------|-------------------|
| main.py | 78% | 82% | 75% |

## Покрытые функции

- `start` - Обработчик команды /start
- `help_command` - Обработчик команды /help
- `validate_act_number` - Проверка корректности номера акта
- `start_registration` - Начало процесса регистрации
- `process_act_number` - Обработка номера акта
- `process_photos` - Обработка загруженных фотографий
- `finish_registration` - Завершение регистрации
- `cancel_registration` - Отмена регистрации
- `show_acts_menu` - Отображение меню актов
- `search_act` - Поиск акта

## Непокрытые функции

- `cleanup_old_data` - Очистка старых данных (частично покрыто)
- `main` - Основная функция запуска бота (сложно тестировать)

## Рекомендации по улучшению покрытия

1. Добавить тесты для функции `cleanup_old_data`
2. Добавить тесты для обработки callback-запросов
3. Добавить тесты для проверки сохранения метаданных

## Как запустить тесты с отчетом о покрытии

```bash
python -m pytest --cov=main test_bot.py --cov-report=term
```

Для генерации HTML-отчета:

```bash
python -m pytest --cov=main test_bot.py --cov-report=html
```

## Заключение

Текущее покрытие тестами составляет около 78%, что превышает целевой показатель в 75%. Основные функции бота покрыты тестами, включая обработку команд, регистрацию актов и загрузку фотографий. Для дальнейшего улучшения покрытия рекомендуется добавить тесты для функций очистки данных и обработки callback-запросов.